// Generated by CoffeeScript 1.6.1

$(function() {
  var adjustBlocksContainerHeight;
  $('.block').resizable({
    stop: function(event, ui) {
      return $(this).trigger('resize');
    },
    start: function(event, ui) {
      return $(this).trigger('startedResizing');
    }
  }).draggable({
    handle: '.move',
    stop: function(event, ui) {
      return $(this).trigger('resize');
    }
  });
  $('.blocks').on('adjustBlocksContainerHeight', function() {
    return adjustBlocksContainerHeight();
  });
  $('.block').on('startedResizing', function() {
    var minimized;
    minimized = $(this).hasClass('minimized');
    if (minimized) {
      return $(this).css('position', 'fixed');
    }
  });
  return adjustBlocksContainerHeight = function() {
    var blocksContainerHeight, divBlocks, maxYposition;
    divBlocks = $('.blocks');
    maxYposition = 0;
    $('.block').each(function() {
      var height, offsetTop, positionY;
      offsetTop = $(this).offset().top;
      height = $(this).height();
      positionY = offsetTop + height;
      if (positionY > maxYposition) {
        return maxYposition = positionY;
      }
    });
    blocksContainerHeight = maxYposition - divBlocks.offset().top;
    return divBlocks.height(blocksContainerHeight);
  };
});
